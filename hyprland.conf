# ==============================================================================
# HYPRLAND CONFIGURATION SNIPPET
# ==============================================================================

# Define main modifier key (Super/Windows key)
$mainMod = SUPER
# ==============================================================================
# GENERAL STYLING (CATPPUCCIN MOCHA BORDERS)
# ==============================================================================
general {
    # Border thickness
    border_size = 2

    # Gaps between windows and screen edges
    gaps_in = 6
    gaps_out = 8

    # Catppuccin Mocha colors
    # Active: Mauve to Lavender gradient at a 45-degree angle
    col.active_border = rgb(cba6f7) rgb(b4befe) 45deg

    # Inactive: Surface 1 (subtle grey-purple)
    col.inactive_border = rgb(45475a)

    layout = dwindle
}

# ==============================================================================
# DECORATION: ROUNDING & SHADOWS
# ==============================================================================
decoration {
    # Rounded corners (adjust the number to make it more or less circular)
    rounding = 12

    # Slight transparency for inactive windows to make the active one pop
    active_opacity = 1.0
    inactive_opacity = 0.95

    # Modern shadow configuration block
    shadow {
        enabled = true
        range = 15
        render_power = 3
        # Using Mocha Crust (darkest shade) for a seamless shadow color
        color = rgba(11111bee)
    }
}
# ==============================================================================
# ANIMATIONS CONFIGURATION
# ==============================================================================
animations {
    enabled = true

    # Define custom Bezier curves for smooth, aesthetic easing
    # Syntax: bezier = name, x0, y0, x1, y1
    bezier = overshot, 0.05, 0.9, 0.1, 1.05
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1

    # Apply the defined curves to specific UI elements
    # Syntax: animation = NAME, ONOFF, SPEED, CURVE, STYLE
    animation = windows, 1, 5, overshot, slide
    animation = windowsOut, 1, 4, smoothOut, slide
    animation = windowsMove, 1, 4, default

    # Border transitions
    animation = border, 1, 10, default

    # Fading effects
    animation = fade, 1, 10, smoothIn
    animation = fadeDim, 1, 10, smoothIn

    # Workspace sliding animations
    animation = workspaces, 1, 6, default, slidefade 20%
}
# ==============================================================================
# AUTOSTART
# ==============================================================================
# Start Dank Material Shell (DMS) natively
exec-once = dms run
exec-once = hyprpm reload -n
exec-once = systemctl --user start hyprpolkitagent
# ==============================================================================
# LAYOUT & SPLIT SETTINGS (DWINDLE)
# ==============================================================================
dwindle {
    pseudotile = true
    # preserve_split ensures that your manual splits are not automatically altered
    preserve_split = true
}
# ==============================================================================
# KEYBOARD INPUT CONFIGURATION
# ==============================================================================
input {
    # Set your keyboard layout (e.g., 'us' for US English, 'br' for Brazilian ABNT2)
    kb_layout = us

    # Set keyboard variant if needed (e.g., 'intl' for US International)
    kb_variant = intl

    # Keyboard options (e.g., swapping Caps Lock and Escape for easier coding)
    kb_options = ctrl:nocaps

    # Key repeat rate (repeats per second when holding a key)
    repeat_rate = 50

    # Key repeat delay (milliseconds before repeating starts)
    repeat_delay = 300

    # Enable NumLock on startup automatically
    numlock_by_default = true
}
# ==============================================================================
# CURSOR CONFIGURATION
# ==============================================================================
cursor {
    # Disables hardware cursors and forces software rendering
    # This prevents display managers and mixed-DPI monitors from leaving ghost cursors
    no_hardware_cursors = true
}
# Hold mainMod and left click to drag and move windows
bindm = $mainMod, mouse:272, movewindow

# Hold mainMod and right click to drag and resize windows
bindm = $mainMod, mouse:273, resizewindow

# ==============================================================================
# SYSTEM KEYBINDs
# ==============================================================================
# Reloads Hyprland explicitlfy and restarts Dank Material Shell
bind = $mainMod SHIFT, R, exec, hyprctl reload && pkill dms; dms run &
# Lock
bind = $mainMod, L, exec, hyprlock
bindel = , XF86AudioRaiseVolume , exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.01+ -l 1.0
bindel = , XF86AudioLowerVolume , exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.01-
bindel = , XF86AudioMute        , exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute     , exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = , XF86AudioPlay        , exec, playerctl play-pause
bindel = , XF86AudioStop        , exec, playerctl stop
bindel = , XF86AudioPrev        , exec, playerctl previous
bindel = , XF86AudioNext        , exec, playerctl next
bindel = , XF86MonBrightnessUp, exec, brightnessctl --class=backlight set +10%
bindel = , XF86MonBrightnessDown, exec, brightnessctl --class=backlight set 10%-

# Screenshot
# Requires: grim, slurp, and wl-clipboard installed on your system
# Win+Shift+S: Select an area to copy to clipboard
bind = $mainMod SHIFT, S, exec, grim -g "$(slurp)" - | wl-copy

# ==============================================================================
# KEYBINDINGS: WINDOW MANAGEMENT & SPLITTING
# ==============================================================================
# Toggle current window split direction (Horizontal/Vertical)
bind = $mainMod, V, togglesplit

# Close active window
bind = $mainMod, Q, killactive

# Toggle floating state for active window
bind = $mainMod, Space, togglefloating

bind = $mainMod, T, exec, kitty
bind = $mainMod, D, exec, dms ipc call spotlight toggle

# Move focus with arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Move windows around the split layout
bind = $mainMod SHIFT, left, movewindow, l
bind = $mainMod SHIFT, right, movewindow, r
bind = $mainMod SHIFT, up, movewindow, u
bind = $mainMod SHIFT, down, movewindow, d

# Resize active window
bind = $mainMod CTRL, left, resizeactive, -40 0
bind = $mainMod CTRL, right, resizeactive, 40 0
bind = $mainMod CTRL, up, resizeactive, 0 -40
bind = $mainMod CTRL, down, resizeactive, 0 40
# ==============================================================================
# SPECIAL WORKSPACES (SCRATCHPADS)
# ==============================================================================

# Toggle the hidden scratchpad on and off
bind = $mainMod, Z, togglespecialworkspace, magic

# Move the currently active window to the hidden scratchpad
bind = $mainMod SHIFT, Z, movetoworkspace, special:magic
# ==============================================================================
# WORKSPACE NAVIGATION KEYBINDS
# ==============================================================================

# Switch to workspaces 1 through 9
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a specific workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Scroll through existing workspaces with mainMod + mouse scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
# ==============================================================================
# LAYOUT TOGGLE KEYBINDS
# ==============================================================================
# Switch entire desktop to Master layout
bind = $mainMod, M, exec, hyprctl keyword general:layout master

# Switch entire desktop back to Dwindle layout
bind = $mainMod SHIFT, M, exec, hyprctl keyword general:layout dwindle
# ==============================================================================
# WINDOW RULES: JETBRAINS / INTELLIJ FIXES
# ==============================================================================
# Fixes popups, dropdowns, and search windows losing focus or disappearing
# Force IntelliJ IDE to always open on Workspace 1 (Main Monitor)
windowrule {
    name = jetbrains-workspace
    workspace = 1
    match:class = ^(jetbrains-idea)$
}

# Force your terminal to open on Workspace 6 (Vertical Monitor)
windowrule {
    name = kitty-workspace
    workspace = 6
    match:class = ^(kitty)$
}

# Fixes IntelliJ popups, dropdowns, and search windows
windowrule {
    name = jetbrains-popups
    float = on
    match:class = ^(jetbrains-.*)
    match:title = ^(win.*)
}

# Prevents IntelliJ popups from stealing initial focus
windowrule {
    name = jetbrains-no-focus
    no_initial_focus = on
    match:class = ^jetbrains-(?!toolbox)
    match:float = 1
}
# ==============================================================================
# MONITOR CONFIGURATION
# ==============================================================================

monitor = DP-1, 1920x1080@60, 2560x0, 1, transform, 3
monitor = DP-2, 3840x2160@60, 0x0, 1.5, bitdepth, 10
# ==============================================================================
# WORKSPACE TO MONITOR BINDINGS
# ==============================================================================

# Bind workspaces 1 through 5 to your main 4K monitor (DP-2)
workspace = 1, monitor:DP-2, default:true
workspace = 2, monitor:DP-2
workspace = 3, monitor:DP-2
workspace = 4, monitor:DP-2
workspace = 5, monitor:DP-2

# Bind workspaces 6 through 9 to your vertical 1080p monitor (DP-1)
workspace = 6, monitor:DP-1, default:true
workspace = 7, monitor:DP-1
workspace = 8, monitor:DP-1
workspace = 9, monitor:DP-1
workspace = 0, monitor:DP-1

